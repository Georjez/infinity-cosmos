% In this file you should put all LaTeX macros to be used
% both by the pdf version and the web version.
% This should be most of your macros.

\usepackage{tikz-cd}

% Theorems
\theoremstyle{theorem}
\newtheorem{thm}{Theorem}[section]

\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{conj}[thm]{Conjecture}

% Definitions
\theoremstyle{definition}

\newtheorem{defn}[thm]{Definition}
\newtheorem{ex}[thm]{Example}
\newtheorem{nex}[thm]{Non-Example}
\newtheorem{obs}[thm]{Observation}
\newtheorem{dig}[thm]{Digression}
\newtheorem{ntn}[thm]{Notation}
\newtheorem{rec}[thm]{Recall}
\newtheorem{rmk}[thm]{Remark}
\newtheorem{pre}[thm]{Preview}
\newtheorem{war}[thm]{Warning}
\newtheorem{con}[thm]{Convention}

% Number equations in sections
\makeatletter
\let\c@equation\c@thm
\numberwithin{equation}{section}
\makeatother

\renewcommand{\theenumi}{\roman{enumi}}

%enriched (i.e. all large) categories.
\newcommand{\ec}[1]{{\mathord{\mathcal{#1}}}}
\newcommand{\cA}{\ec{A}}
\newcommand{\cK}{\ec{K}}
\newcommand{\Cat}{\ec{Cat}}
\newcommand{\qCat}{\ec{QCat}}
\newcommand{\sSet}{\ec{sSet}}

\newcommand{\Del}{\mbfDelta}

% Various hom notations.
\newcommand{\qop}[1]{{\mathord{\mathsf{#1}}}}
\newcommand{\Fun}{\qop{Fun}}%mapping spaces in cosmoi

%arrows; cheap version of \we and \trvfib
\makeatletter
\def\makeslashed#1#2#3#4#5{#1{\mathpalette{\sla@{#2}{#3}{#4}}{#5}}}

\def\@mathlower#1#2#3{\setbox0=\hbox{$\m@th#2#3$}\lower#1\ht0\box0}
\def\mathlower#1#2{\mathpalette{\@mathlower{#1}}{#2}}
\makeatother

\newcommand\dhxrightarrow[2][]{%
  \mathrel{\ooalign{$\xrightarrow[#1\mkern4mu]{#2\mkern4mu}$\cr%
  \hidewidth$\rightarrow\mkern4mu$}}
}

% New style, simpler, inline arrows.
\let\xto=\xrightarrow
\newcommand{\fib}{\twoheadrightarrow}
\newcommand{\we}{\xrightarrow{{\smash{\mathlower{0.8}{\sim}}}}}
\newcommand{\trvfib}{\dhxrightarrow{{\smash{\mathlower{0.8}{\sim}}}}}

% Elementary operators in the theory of (stratified) simplicial sets.

\newcommand{\face}{\delta}
\newcommand{\degen}{\sigma}

% Duals / Superscripted postfix ops

\newcommand{\op}{^{\mathord{\text{\rm op}}}}
\newcommand{\co}{^{\mathord{\text{\rm co}}}}
\newcommand{\coop}{^{\mathord{\text{\rm coop}}}}

% General operations on maps etc.
\newcommand{\id}{\textup{id}}
